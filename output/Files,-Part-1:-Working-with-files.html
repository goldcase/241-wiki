<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<link rel="stylesheet" href="http://yui.yahooapis.com/pure/0.6.0/pure-min.css">
	<link rel="stylesheet" href="style.css">
    <script src="https://code.jquery.com/jquery-2.1.4.min.js"></script>
</head>
<body>
<p>We've already seen <a href="http://cs-education.github.io/sysassets/web/chapter1.html">open</a> and fopen (todo link here) so let's look at some more advanced concepts.</p>
<h1>How do I tell how large a file is?</h1>
<p>For files less than the size of a long using fseek and ftell is a simple way to accomplish this:</p>
<p>Move to the end of the file and find out the current position.</p>
<div class="highlight"><pre><span class="n">fseek</span><span class="p">(</span><span class="n">f</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="n">SEEK_END</span><span class="p">);</span>
<span class="kt">long</span> <span class="n">pos</span> <span class="o">=</span> <span class="n">ftell</span><span class="p">(</span><span class="n">f</span><span class="p">);</span>
</pre></div>


<p>This tells us the current position in the file in bytes - i.e. the length of the file!</p>
<p><code>fseek</code> can also be used to set the absolute position.</p>
<div class="highlight"><pre><span class="n">fseek</span><span class="p">(</span><span class="n">f</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="n">SEEK_SET</span><span class="p">);</span> <span class="c1">// Move to the start of the file </span>
<span class="n">fseek</span><span class="p">(</span><span class="n">f</span><span class="p">,</span> <span class="n">posn</span><span class="p">,</span> <span class="n">SEEK_SET</span><span class="p">);</span>  <span class="c1">// Move to &#39;posn&#39; in the file.</span>
</pre></div>


<p>All future reads and writes in the parent or child processes will honor this position.<br />
Note writing or reading from the file will change the current position.</p>
<p>See the man pages for fseek and ftell for more information.</p>
<h2>What happens if a child process closes a filestream using <code>fclose</code> or <code>close</code>?</h2>
<p>Unlike position, closing a file stream is unique to each process. Other processes can continue to use their own file-handle.</p>
    <script src="check_mc.js"></script>
</body>
</html>
</body>
</html>
